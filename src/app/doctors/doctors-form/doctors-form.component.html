<div class="row">
  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
    <div class="row" style="margin: 20px;">
      <img [src]="imageUrl" class="img-circle user-img-circle"
        style="width: 250px; height: 250px; object-fit: contain;">
    </div>
    <div class="row" style="margin: 20px;">
      <button mat-raised-button color="primary" (click)="fileInput.click()">
        <mat-icon>file_upload</mat-icon>
        {{newImage? 'Modify': 'Upload'}} Image
      </button>
      <input type="file" #fileInput id="fileUpload" name="fileUpload" multiple="multiple" accept="image/*"
        (change)="loadImage($event.target.files)" style="display:none;" />
    </div>
    <div class="row" style="margin: 20px;" *ngIf="newImage">
      <button mat-raised-button color="warn" (click)="cancelImage()">
        <mat-icon>cancel</mat-icon>
        Cancel Image
      </button>
    </div>
  </div>
  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
    <form class="m-4" #doctorForm="ngForm" (ngSubmit)="onSubmit(doctorForm.value)">
      <div class="row">
        <div class="col-10">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Ether Account</mat-label>
            <input matInput name="address" #address="ngModel" [(ngModel)]="doctor.address" required>
            <mat-icon matSuffix>face</mat-icon>
            <mat-error *ngIf="address.invalid && (address.dirty || address.touched)">
              A valid Ether Account is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-1">
          <button mat-raised-button color="primary" type="button" (click)="openScanDialog()" style="height: 47px;
                    margin-top: 5px;">
            <mat-icon>camera_alt</mat-icon>
          </button>
        </div>
      </div>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput name="name" #name="ngModel" [ngModel]="doctor.name" required>
        <mat-icon matSuffix>face</mat-icon>
        <mat-error *ngIf="name.invalid && (name.dirty || name.touched)">
          Name is required
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Doctor Id</mat-label>
        <input matInput name="idCard" #idCard="ngModel" [ngModel]="doctor.idCard" required>
        <mat-icon matSuffix>credit_card</mat-icon>
        <mat-error *ngIf="idCard.invalid && (idCard.dirty || idCard.touched)">
          Doctor Id is required
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Specialization</mat-label>
        <input matInput name="specialization" #specialization="ngModel" [ngModel]="doctor.specialization" required>
        <mat-icon matSuffix>device_hub</mat-icon>
        <mat-error *ngIf="specialization.invalid && (specialization.dirty || specialization.touched)">
          Specialization is required
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput name="email" #email="ngModel" type="email" [ngModel]="doctor.email" required>
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
          Email is required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput name="password" #password="ngModel" ngModel [type]="hide ? 'password' : 'text'" required>
        <mat-icon matSuffix (click)="hide = !hide">
          {{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
          Password is required
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input matInput name="cpassword" #cpassword="ngModel" ngModel [type]="chide ? 'password' : 'text'" required>
        <mat-icon matSuffix (click)="chide = !chide">
          {{chide ? 'visibility_off' : 'visibility'}}</mat-icon>
        <mat-error *ngIf="cpassword.invalid && (cpassword.dirty || cpassword.touched)">
          Confirm Password is required
        </mat-error>
        <mat-error *ngIf="cpassword.value != password.value && (cpassword.dirty || cpassword.touched)">
          Passwords are different
        </mat-error>
      </mat-form-field>

      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
          <button class="mr-3" [disabled]="!doctorForm.valid || password.value != cpassword.value || loading"
            mat-raised-button color="primary" [class.spinner]="loading">Submit</button>
          <button type="button" mat-button>Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>
